# Enable reputation plugin
enabled = true;

# Configure Redis backend
backend = "redis";

# Redis connection settings
servers = "127.0.0.1:6379";

# Define user reputation rule
rules {
    # Telegram user reputation tracking
    telegram_user {
        # Use generic selector to extract user ID from header
        selector = "generic";
        
        # Extract user ID from X-Telegram-User header
        selector_value = "X-Telegram-User";
        
        # Symbol to add based on reputation
        symbol = "USER_REPUTATION";
        
        # Redis key pattern for storing reputation
        key = "tg:reputation:user:%{selector}";
        
        # Reputation thresholds
        bad_threshold = 10;
        good_threshold = -5;
        
        # Time buckets for reputation decay (in seconds)
        time_buckets = [3600, 86400, 604800]; # 1h, 1d, 1w
        
        # Reputation scoring
        score_bad = 5.0;
        score_good = -1.0;
        score_neutral = 0.0;
    }
} 